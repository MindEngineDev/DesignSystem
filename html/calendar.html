<!doctype html>
<html lang="nl" data-theme="dark">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="../../../main.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.16.0/cdn/shoelace.js"></script>
    <link rel="stylesheet" href="assets/css/https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.16.0/cdn/themes/dark.css" />
    <title>Calendar</title>
  </head>
  <body>
    <header class="header">
      <div class="brand">Calendar</div>
      <div class="spacer"></div>
      <sl-switch size="small" id="themeToggle">Dark mode</sl-switch>
    </header>
    <div class="shell">
      <aside class="nav">
        <nav>
          <a href="./index.html">Overzicht</a>
          <a href="./tables.html">Tables</a>
          <a href="./forms.html">Forms</a>
          <a class="active" href="./calendar.html">Calendar</a>
        </nav>
      </aside>
      <main>
        <section class="card">
          <div class="calendar">
            <div class="calendar__header">
              <button class="calendar__nav" id="prevMonth">&lt;</button>
              <h2 id="monthYear">October 2023</h2>
              <button class="calendar__nav" id="nextMonth">&gt;</button>
            </div>
            <div class="calendar__grid">
              <div class="calendar__day calendar__day--header">Ma</div>
              <div class="calendar__day calendar__day--header">Di</div>
              <div class="calendar__day calendar__day--header">Wo</div>
              <div class="calendar__day calendar__day--header">Do</div>
              <div class="calendar__day calendar__day--header">Vr</div>
              <div class="calendar__day calendar__day--header">Za</div>
              <div class="calendar__day calendar__day--header">Zo</div>
              <!-- Days will be populated by JS -->
            </div>
          </div>
        </section>
      </main>
    </div>
    <script type="module" src="../scripts/main.js"></script>
    <script>
      // Basic calendar logic (expand as needed)
      const monthYear = document.getElementById('monthYear');
      const grid = document.querySelector('.calendar__grid');
      let currentDate = new Date();

      function renderCalendar(date) {
        const year = date.getFullYear();
        const month = date.getMonth();
        monthYear.textContent = date.toLocaleDateString('nl', { month: 'long', year: 'numeric' });
        
        // Clear existing days
        const days = grid.querySelectorAll('.calendar__day:not(.calendar__day--header)');
        days.forEach(day => day.remove());
        
        const firstDay = new Date(year, month, 1).getDay();
        const lastDay = new Date(year, month + 1, 0).getDate();
        const prevLastDay = new Date(year, month, 0).getDate();
        
        // Previous month days
        for (let i = firstDay - 1; i >= 0; i--) {
          const day = document.createElement('div');
          day.className = 'calendar__day calendar__day--inactive';
          day.textContent = prevLastDay - i;
          grid.appendChild(day);
        }
        
        // Current month days
        for (let i = 1; i <= lastDay; i++) {
          const day = document.createElement('div');
          day.className = 'calendar__day';
          day.textContent = i;
          if (i === new Date().getDate() && month === new Date().getMonth() && year === new Date().getFullYear()) {
            day.classList.add('calendar__day--today');
          }
          grid.appendChild(day);
        }
        
        // Next month days
        const totalCells = 42; // 6 weeks
        const remaining = totalCells - (firstDay + lastDay);
        for (let i = 1; i <= remaining; i++) {
          const day = document.createElement('div');
          day.className = 'calendar__day calendar__day--inactive';
          day.textContent = i;
          grid.appendChild(day);
        }
      }

      document.getElementById('prevMonth').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar(currentDate);
      });

      document.getElementById('nextMonth').addEventListener('click', () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar(currentDate);
      });

      renderCalendar(currentDate);
    </script>
  </body>
</html>
