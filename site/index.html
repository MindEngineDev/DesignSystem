<!doctype html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Design System ‚Äì Minimal</title>

  <!-- Pico CSS (baseline) -->
  <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@2.0.6/css/pico.min.css">


  <!-- Design tokens + skin -->
  <link rel="stylesheet" href="./styles.css">

  <!-- Shoelace components -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/themes/light.css">
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/components/button/button.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/components/input/input.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/components/dialog/dialog.js"></script>
  <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.0/cdn/components/alert/alert.js"></script>

  <!-- htmx + Alpine -->
  <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
  <script src="https://unpkg.com/@alpinejs/collapse@3.x.x/dist/cdn.min.js" defer></script>
  <script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

  <style>
    header { margin: var(--space-xl) 0 var(--space-lg); display: flex; gap: var(--space-md); align-items: center; }
    .grid { display: grid; gap: var(--space-md); grid-auto-flow: column; align-items: center; }
  </style>
</head>
<body>
  <main class="container">
    <header>
      <h1>Design System</h1>
      <sl-button onclick="
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark');
      ">Toggle Theme</sl-button>
    </header>

    <!-- Alpine micro-interaction -->
    <article class="card">
      <h2>Alpine Counter</h2>
      <div x-data="counter" class="grid">
        <sl-button variant="primary" @click="dec()">-</sl-button>
        <strong x-text="n" style="font-size: var(--font-size-xl)"></strong>
        <sl-button variant="primary" @click="inc()">+</sl-button>
      </div>
    </article>

    <!-- htmx server-driven form -->
    <article class="card">
      <h2>htmx Echo (POST)</h2>
      <form
        hx-post="/api/echo"
        hx-trigger="submit"
        hx-target="#echo"
        hx-swap="innerHTML">
        <sl-input name="q" placeholder="Type something..." clearable></sl-input>
        <sl-button type="submit" variant="primary">Send</sl-button>
      </form>
      <div id="echo" style="margin-top: var(--space-md); color: var(--semantic-muted)">
        Tip: add a tiny Express server to handle /api/echo.
      </div>
    </article>

    <!-- Shoelace dialog themed by tokens -->
    <article class="card">
      <h2>Shoelace Dialog</h2>
      <sl-button onclick="dialog.show()">Open dialog</sl-button>
      <sl-dialog label="Example" id="dialog">
        <p>Design tokens are working üëç</p>
        <sl-button slot="footer" variant="primary" onclick="dialog.hide()">OK</sl-button>
      </sl-dialog>
    </article>
  </main>

  <script src="./app.js" type="module"></script>
</body>
</html>
